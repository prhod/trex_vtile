{
    "version": 8,
    "name": "Basic",
    "sources": {
        "raster-tiles": {
            "type": "raster",
            "tiles": [
                "http://vip-plan-ihm.mutu.prod.canaltp.fr/osm_bright/{z}/{x}/{y}.png"
            ]
        },
        "lines": {
            "type": "vector",
            "tiles": [
                "http://localhost:6767/lines/{z}/{x}/{y}.pbf"
            ]
        }
    },
    "layers": [{
            "id": "fond",
            "type": "background",
            "paint": {
                "background-color": "#ffffff"
            }
        },
        {
            "id": "simple-tiles",
            "type": "raster",
            "source": "raster-tiles",
            "minzoom": 0,
            "maxzoom": 22
        },
        {
            "id": "captain_train",
            "source": "lines",
            "source-layer": "lines",
            "type": "line",
            "filter": ["in", "mode", "train", "railway", "rail"],
            "paint": {
                "line-color": {
                    "type": "identity",
                    "property": "colour"
                },
                "line-width": {
                    "property": "mode",
                    "default": 5,
                    "type": "categorical",
                    "stops": [
                        ["bus", 2],
                        ["coach", 2],
                        ["subway", 5],
                        ["train", 5],
                        ["rail", 5],
                        ["railway", 5],
                        ["tram", 3]
                    ]
                }
            }
        },
        {
            "id": "other_lines",
            "source": "lines",
            "source-layer": "lines",
            "type": "line",
            "minzoom": 12,
            "maxzoom": 22,
            "filter": ["!in", "mode", "bicycle", "train", "railway", "rail"],
            "paint": {
                "line-color": {
                    "type": "identity",
                    "property": "colour"
                },
                "line-width": {
                    "property": "mode",
                    "default": 20,
                    "type": "categorical",
                    "stops": [
                        ["bus", 2],
                        ["coach", 2],
                        ["subway", 5],
                        ["tram", 3]
                    ]
                }
            }
        }
    ]
}
